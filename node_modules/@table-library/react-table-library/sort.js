import{S as e}from"./sort-47b58ad8.js";export{S as SortIconPositions}from"./sort-47b58ad8.js";import{d as r}from"./defineProperty-9f9de5d0.js";import{o as t}from"./Cell-f8de8a24.js";import{jsxs as o,jsx as n}from"react/jsx-runtime";import*as i from"react";import{S as s}from"./Sort-ec20abfc.js";import{H as c}from"./HeaderCell-84a9d2c4.js";import a from"clsx";import{B as u,I as p}from"./IconChevronSingleDown-e9d70826.js";import{s as l}from"./slicedToArray-c92cae3a.js";import{u as f,a as d,b as v}from"./useSyncControlledState-80c86a40.js";import"@stitches/react";import"./toConsumableArray-25e5c43c.js";import"./unsupportedIterableToArray-dc74e326.js";function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}var g=function(r){var t=r.sort,s=r.sortKey,c=r.sortIcon,p=void 0===c?{}:c,l=r.children,f=t.state,d=t.fns,v=m(m({},t.options.sortIcon),p),y=v.position===e.Prefix,g=v.position===e.Suffix,h=function(e,r,t,o,n,s){var c={height:"".concat(t),width:"".concat(t)};return e.sortKey===r&&e.reverse?s?i.cloneElement(s,m({},c)):null:e.sortKey!==r||e.reverse?o?i.cloneElement(o,m({},c)):null:n?i.cloneElement(n,m({},c)):null}(f,s,v.size,v.iconDefault,v.iconUp,v.iconDown);return o(u,{className:a({active:f.sortKey===s,prefix:y,suffix:g}),margin:v.margin,onClick:function(){return d.onToggleSort({sortKey:s})},children:[y&&h&&n("span",{children:h},void 0),n("div",{title:"string"==typeof l?l:"",children:l},void 0),g&&h&&n("span",{children:h},void 0)]},void 0)},h=["sortKey","sortIcon","children"];function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}var w=i.memo((function(e){var r=e.sortKey,o=e.sortIcon,a=void 0===o?{}:o,u=e.children,p=t(e,h),l=i.useContext(s);if(!l)throw new Error("No Sort Context. No return value from useSort provided to Table component.");return n(c,b(b({},p),{},{children:n(g,{sort:l,sortKey:r,sortIcon:a,children:u},void 0)}),void 0)}));function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function P(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}var x=function(e,r){switch(r.type){case"TOGGLE_SORT":return function(e,r){var t=r.payload.sortKey===e.sortKey&&!e.reverse;return P(P({},r.payload),{},{reverse:t})}(e,r);case"SET":return function(e,r){return P(P({},e),r.payload)}(e,r);default:throw new Error}},D={sortKey:"NONE",reverse:!1},E={position:e.Suffix,margin:"4px",size:"14px",iconDefault:n((function(e){var r=e.width,t=e.height,i=e.viewBox,s=e.strokeWidth;return o("svg",{id:"svg-icon-chevron-single-up-down","data-name":"svg-icon-chevron-single-up-down","data-testid":"svg-icon-chevron-single-up-down",xmlns:"http://www.w3.org/2000/svg",width:r||"36rem",height:t||"36rem",viewBox:i||"0 0 36 36",strokeWidth:s||"0rem",children:[n("polygon",{points:"36 12 36 15 18 6 0 15 0 12 18 3 36 12"},void 0),n("polygon",{points:"0 24 0 21 18 30 36 21 36 24 18 33 0 24"},void 0)]},void 0)}),{},void 0),iconUp:n((function(e){var r=e.width,t=e.height,o=e.viewBox,i=e.strokeWidth;return n("svg",{id:"svg-icon-chevron-single-up","data-name":"svg-icon-chevron-single-up","data-testid":"svg-icon-chevron-single-up",xmlns:"http://www.w3.org/2000/svg",width:r||"36rem",height:t||"36rem",viewBox:o||"0 0 36 36",strokeWidth:i||"0rem",children:n("polygon",{points:"36 21 36 24 18 15 0 24 0 21 18 12 36 21"},void 0)},void 0)}),{},void 0),iconDown:n(p,{},void 0)},C={isServer:!1,sortIcon:E,isRecursive:!0},I=function(e,r,t,o){var n=null!=r&&r.state?P(P({},D),r.state):P({},D),s=null!=r&&r.onChange?r.onChange:function(){},c=f(x,n,[],[s],o),a=l(c,2),u=a[0],p=a[1],y=i.useCallback((function(e){return p({type:"TOGGLE_SORT",payload:e})}),[p]);d(n,u,(function(){return p({type:"SET",payload:n})}));var m=i.useCallback((function(e,r,t){var o=r[u.sortKey]||function(e){return e};return(u.reverse?function(e){return o(e).reverse()}:o)(e).reduce((function(e,o){return t&&o.nodes?e.concat(P(P({},o),{},{nodes:m(o.nodes,r,t)})):e.concat(o)}),[])}),[u]),g=i.useMemo((function(){return{onToggleSort:y}}),[y]);v("sort",o,u);var h=P(P(P({},C),t),{},{sortIcon:P(P({},E),t.sortIcon)}),O=P(P({},u),{},{sortFn:m});return{state:O,fns:g,options:h,modifier:function(e){return h.isServer?e:O.sortFn(e,h.sortFns,h.isRecursive)},components:{HeaderCellSort:w}}};export{w as HeaderCellSort,I as useSort};
//# sourceMappingURL=sort.js.map

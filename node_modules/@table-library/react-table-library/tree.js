import{T as e}from"./tree-d71a5faf.js";export{T as TreeExpandClickTypes}from"./tree-d71a5faf.js";import{o as t}from"./Cell-11d8d790.js";import{d as n}from"./defineProperty-9f9de5d0.js";import*as l from"react";import{jsx as c}from"@emotion/react";import{B as o,I as r}from"./IconChevronSingleDown-b5d6bde9.js";import i from"clsx";import{T as s,C as b,i as g}from"./Cell-d849ee53.js";import{i as a}from"./isLeaf-be2a2efe.js";import{s as I}from"./slicedToArray-c92cae3a.js";import{b as d}from"./fromTreeToList-26486e10.js";import{u}from"./index-e21c23fe.js";import{b as m}from"./useSyncControlledState-80c86a40.js";import"./unsupportedIterableToArray-dc74e326.js";import"./toConsumableArray-25e5c43c.js";var p=["item","treeIcon","children"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function v(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?C(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):C(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var y="production"===process.env.NODE_ENV?{name:"v16uam",styles:"display:flex;align-items:center;&>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"}:{name:"pencnh-style",styles:"display:flex;align-items:center;&>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};label:style;",map:"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNlbGxUcmVlLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNd0IiLCJmaWxlIjoiQ2VsbFRyZWUudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0B0YWJsZS1saWJyYXJ5L3JlYWN0LXRhYmxlLWxpYnJhcnkvY29tbW9uL2NvbXBvbmVudHMvQnV0dG9uJztcclxuaW1wb3J0IHsgQ2VsbCB9IGZyb20gJ0B0YWJsZS1saWJyYXJ5L3JlYWN0LXRhYmxlLWxpYnJhcnkvdGFibGUvQ2VsbCc7XHJcbmltcG9ydCB7IFRyZWVDb250ZXh0IH0gZnJvbSAnQHRhYmxlLWxpYnJhcnkvcmVhY3QtdGFibGUtbGlicmFyeS9jb21tb24vY29udGV4dC9UcmVlJztcclxuaW1wb3J0IHsgaXNMZWFmIH0gZnJvbSAnQHRhYmxlLWxpYnJhcnkvcmVhY3QtdGFibGUtbGlicmFyeS9jb21tb24vdXRpbC90cmVlJztcclxuY29uc3Qgc3R5bGUgPSAoKSA9PiBjc3MgYFxuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICYgPiBkaXYge1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgfVxuYDtcclxuY29uc3QgZ2V0VHJlZUljb24gPSAoaXRlbSwgdHJlZVN0YXRlLCB0cmVlSWNvblNpemUsIFRyZWVJY29uRGVmYXVsdCwgVHJlZUljb25SaWdodCwgVHJlZUljb25Eb3duKSA9PiB7XHJcbiAgICBjb25zdCBzaXplID0ge1xyXG4gICAgICAgIGhlaWdodDogYCR7dHJlZUljb25TaXplfWAsXHJcbiAgICAgICAgd2lkdGg6IGAke3RyZWVJY29uU2l6ZX1gLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGlzVHJlZUV4cGFuZGVkID0gdHJlZVN0YXRlLmlkcy5pbmNsdWRlcyhpdGVtLmlkKTtcclxuICAgIGlmICghaXNMZWFmKGl0ZW0pICYmIGlzVHJlZUV4cGFuZGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIFRyZWVJY29uRG93biA/IFJlYWN0LmNsb25lRWxlbWVudChUcmVlSWNvbkRvd24sIHsgLi4uc2l6ZSB9KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzTGVhZihpdGVtKSAmJiAhaXNUcmVlRXhwYW5kZWQpIHtcclxuICAgICAgICByZXR1cm4gVHJlZUljb25SaWdodCA/IFJlYWN0LmNsb25lRWxlbWVudChUcmVlSWNvblJpZ2h0LCB7IC4uLnNpemUgfSkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFRyZWVJY29uRGVmYXVsdCA/IFJlYWN0LmNsb25lRWxlbWVudChUcmVlSWNvbkRlZmF1bHQsIHsgLi4uc2l6ZSB9KSA6IG51bGw7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBDZWxsVHJlZSA9ICh7IGl0ZW0sIHRyZWVJY29uID0ge30sIGNoaWxkcmVuLCAuLi5wYXNzVGhyb3VnaCB9KSA9PiB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChUcmVlQ29udGV4dCk7XHJcbiAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFRyZWUgQ29udGV4dC4gTm8gcmV0dXJuIHZhbHVlIGZyb20gdXNlVHJlZSBwcm92aWRlZCB0byBUYWJsZSBjb21wb25lbnQuJyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB7IHN0YXRlLCBmbnMsIG9wdGlvbnMgfSA9IGNvbnRleHQ7XHJcbiAgICBjb25zdCBtZXJnZWRUcmVlSWNvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4ub3B0aW9ucy50cmVlSWNvbixcclxuICAgICAgICAuLi50cmVlSWNvbixcclxuICAgIH07XHJcbiAgICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcclxuICAgICAgICBpZiAoaXNMZWFmKGl0ZW0pKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgZm5zLm9uVG9nZ2xlQnlJZChpdGVtLmlkKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBpY29uID0gZ2V0VHJlZUljb24oaXRlbSwgc3RhdGUsIG1lcmdlZFRyZWVJY29uT3B0aW9ucy5zaXplLCBtZXJnZWRUcmVlSWNvbk9wdGlvbnMuaWNvbkRlZmF1bHQsIG1lcmdlZFRyZWVJY29uT3B0aW9ucy5pY29uUmlnaHQsIG1lcmdlZFRyZWVJY29uT3B0aW9ucy5pY29uRG93bik7XHJcbiAgICByZXR1cm4gKDxDZWxsIHsuLi5wYXNzVGhyb3VnaH0+XG4gICAgICA8ZGl2IGNzcz17c3R5bGUoKX0+XG4gICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwicHJlZml4IG5hcnJvd1wiIG1hcmdpbj17aWNvbiA/IG1lcmdlZFRyZWVJY29uT3B0aW9ucy5tYXJnaW4gOiBtZXJnZWRUcmVlSWNvbk9wdGlvbnMubm9JY29uTWFyZ2lufSBvbkNsaWNrPXtoYW5kbGVDbGlja30+XG4gICAgICAgICAge2ljb24gPyA8c3Bhbj57aWNvbn08L3NwYW4+IDogPHNwYW4gLz59XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8ZGl2PntjaGlsZHJlbn08L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvQ2VsbD4pO1xyXG59O1xyXG4iXX0= */",toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}},G=function(e){var n=e.item,r=e.treeIcon,i=void 0===r?{}:r,g=e.children,I=t(e,p),d=l.useContext(s);if(!d)throw new Error("No Tree Context. No return value from useTree provided to Table component.");var u=d.state,m=d.fns,C=v(v({},d.options.treeIcon),i),G=function(e,t,n,c,o,r){var i={height:"".concat(n),width:"".concat(n)},s=t.ids.includes(e.id);return!a(e)&&s?r?l.cloneElement(r,v({},i)):null:a(e)||s?c?l.cloneElement(c,v({},i)):null:o?l.cloneElement(o,v({},i)):null}(n,u,C.size,C.iconDefault,C.iconRight,C.iconDown);return c(b,I,c("div",{css:y},c(o,{className:"prefix narrow",margin:G?C.margin:C.noIconMargin,onClick:function(){a(n)||m.onToggleById(n.id)}},G?c("span",null,G):c("span",null)),c("div",null,g)))};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function W(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?A(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):A(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var J=function(t,n){var l=t.item,c=n.tree;if(!c)throw new Error("No 'tree' in getRowProps. That's odd");var o=c.state.ids.includes(l.id),r=l.treeYLevel||c.options.treeYLevel,s=l.treeXLevel||c.options.treeXLevel;return{theme:"\n    &.row-tree-clickable {\n      cursor: pointer;\n    }\n\n    .td:nth-of-type(".concat(r+1,") > div {\n      margin-left: ").concat(s*c.options.indentation,"px;\n    }\n  "),className:i("row-tree",{"row-tree-clickable":c.options.clickType===e.RowClick,"row-tree-expanded":o,"row-tree-leaf":a(l)}),onClick:function(t,n){g(n)&&(a(t)||c.options.clickType===e.RowClick&&c.fns.onToggleById(t.id))}}},V={ids:[]},X={margin:"4px",size:"14px",noIconMargin:"0px",iconDefault:null,iconRight:c((function(e){var t=e.width,n=e.height,l=e.viewBox,o=e.strokeWidth;return c("svg",{id:"svg-icon-chevron-single-right","data-name":"svg-icon-chevron-single-right","data-testid":"svg-icon-chevron-single-right",xmlns:"http://www.w3.org/2000/svg",width:t||"36rem",height:n||"36rem",viewBox:l||"0 0 36 36",strokeWidth:o||"0rem"},c("polygon",{points:"15 36 12 36 21 18 12 0 15 0 24 18 15 36"}))}),null),iconDown:c(r,null)},f={isServer:!1,treeIcon:X,clickType:e.RowClick,indentation:20,treeXLevel:0,treeYLevel:0},Z=function(e,t,n,l){var c=null!=t&&t.state?W(W({},V),t.state):W({},V),o=null!=t&&t.onChange?t.onChange:function(){},r=u(e,c,o,l),i=I(r,2),s=i[0],b=i[1];m("tree",l,s);var g=W(W(W({},f),n||{}),{},{treeIcon:W(W({},X),n?n.treeIcon:{})});return{state:s,fns:b,options:g,_getRowProps:J,modifier:function(t){return g.isServer?t:d(e,t,s.ids,g.treeXLevel,g.treeYLevel,null)},components:{CellTree:G}}};export{G as CellTree,Z as useTree};
//# sourceMappingURL=tree.js.map

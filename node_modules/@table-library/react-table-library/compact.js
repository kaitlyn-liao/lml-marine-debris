import{d as e}from"./defineProperty-9f9de5d0.js";import{o as r}from"./Cell-f8de8a24.js";import{jsx as t,jsxs as o,Fragment as n}from"react/jsx-runtime";import*as i from"react";import{H as c,a as l,R as s,B as p,T as u}from"./Row-15ce6d36.js";import"clsx";import"@stitches/react";import"use-double-click";import{u as a}from"./useTheme-76ff76fc.js";import{VariableSizeList as d}from"react-window";import f from"react-virtualized-auto-sizer";import{H as O}from"./HeaderCell-84a9d2c4.js";import{C as m}from"./Cell-57845886.js";import"./slicedToArray-c92cae3a.js";import"./unsupportedIterableToArray-dc74e326.js";import"./Sort-ec20abfc.js";import"./modifiers-50921ac4.js";import"./toConsumableArray-25e5c43c.js";import"./Tree-211241b9.js";var v=["columns"];function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function w(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var y=function(e,r){var t=e.indexOf(r);return(t>-1?e.slice(0,t+1):[]).filter((function(e){return e.select})).length},j=function(e){var n=e.columns,s=r(e,v),p=s.sort,u=s.select;return t(c,{children:t(l,{children:n.map((function(e,r){var c,l=null;u&&e.select&&(l="boolean"!=typeof e.select&&e.select.renderHeaderCellSelect?t(O,{stiff:!0,children:e.select.renderHeaderCellSelect()},void 0):t(u.components.HeaderCellSelect,{},void 0));var s={index:r+y(n,e),resize:e.resize,pin:e.pin,hideKey:null===(c=e.hide)||void 0===c?void 0:c.hideKey},a=null;return a=p&&e.sort&&e.sort.sortKey?t(p.components.HeaderCellSort,w(w({},s),{},{sortKey:e.sort.sortKey,sortIcon:e.sort.sortIcon,children:e.label}),void 0):t(O,w(w({},s),{},{children:e.label}),void 0),o(i.Fragment,{children:[l,a]},r)}))},void 0)},void 0)},h=["item","columns","rowProps","rowOptions"];function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function g(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var D=function(e){var c=e.item,l=e.columns,p=e.rowProps,u=e.rowOptions,a=r(e,h),d=a.tree,f=a.select;return o(n,{children:[(null==u?void 0:u.renderBeforeRow)&&u.renderBeforeRow(c),t(s,g(g({item:c},p),{},{children:l.map((function(e,r){var n={pin:e.pin},l=function(e,r){return Object.keys(e).reduce((function(t,o){return"function"==typeof e[o]?t[o]=e[o](r):t[o]=e[o],t}),{})}((null==e?void 0:e.cellProps)||{},c),s=null;if(d&&e.tree){var p={};"boolean"!=typeof e.tree&&(p=g(g({},p),{},{treeIcon:e.tree.treeIcon})),s=t(d.components.CellTree,g(g(g(g({item:c},l),n),p),{},{children:e.renderCell(c)}),void 0)}else s=t(m,g(g(g({},l),n),{},{children:e.renderCell(c)}),void 0);var u=null;return f&&e.select&&(u="boolean"!=typeof e.select&&e.select.renderCellSelect?t(m,{stiff:!0,children:e.select.renderCellSelect(c)},void 0):t(f.components.CellSelect,{item:c},void 0)),o(i.Fragment,{children:[u,s]},r)}))}),void 0),(null==u?void 0:u.renderAfterRow)&&u.renderAfterRow(c)]},void 0)},S=["columns"],C=["children"],z=["internals","columns","rowProps","rowOptions","virtualizedOptions"],H=["tableList","columns","rowProps","rowOptions","virtualizedOptions"];function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function E(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?T(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var R=function(e,r,t){var o=0;return null!=e&&e.rowHeight&&("number"==typeof(null==e?void 0:e.rowHeight)&&(o=e.rowHeight),"function"==typeof(null==e?void 0:e.rowHeight)&&(o=null==e?void 0:e.rowHeight(r,t))),o},k=function(e){var n=e.columns,c=r(e,S);return i.forwardRef((function(e,i){var l=e.children,s=r(e,C);return o("div",E(E({ref:i},s),{},{children:[t(j,E({columns:n},c),void 0),t(p,{children:l},void 0)]}),void 0)}))},A=function(e){var o=e.internals,n=e.columns,i=e.rowProps,c=e.rowOptions,l=e.virtualizedOptions,s=r(e,z),p=o.index,u=o.style,a=o.data.items[p],d=R(l,a,p);return t("div",{style:E(E({},u),{},{top:u.top+d}),children:t(D,E({item:a,columns:n,rowProps:i,rowOptions:c},s),void 0)},void 0)},I=function(e){var o=e.tableList,n=e.columns,i=e.rowProps,c=void 0===i?{}:i,l=e.rowOptions,s=e.virtualizedOptions,p=r(e,H);return t(f,{children:function(e){var r=e.width,i=e.height;return t(d,{height:i,width:r,itemCount:(null==s?void 0:s.itemCount)||o.length,itemSize:function(e){return R(s,o[e],e)},innerElementType:k(E({columns:n},p)),itemData:{items:o},children:function(e){return t(A,E({internals:e,columns:n,rowProps:c,rowOptions:l,virtualizedOptions:s},p),void 0)}},void 0)}},void 0)},x=["tableList","columns","rowProps","rowOptions"];function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function B(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?L(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):L(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var K=function(e){var i=e.tableList,c=e.columns,l=e.rowProps,s=void 0===l?{}:l,u=e.rowOptions,a=r(e,x);return o(n,{children:[t(j,B({columns:c},a),void 0),t(p,{children:i.map((function(e){return t(D,B({item:e,columns:c,rowProps:s,rowOptions:u},a),e.id)}))},void 0)]},void 0)},F=["columns","rowProps","tableOptions","rowOptions","virtualizedOptions"];function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function G(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?q(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):q(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var J={Table:"\n    height: 100%;\n  "},M=i.forwardRef((function(e,i){var c=e.columns,l=e.rowProps,s=void 0===l?{}:l,p=e.tableOptions,d=e.rowOptions,f=e.virtualizedOptions,O=r(e,F),m=O.data,v=O.theme,b=O.layout,w=O.sort,y=O.pagination,j=O.select,h=O.tree,P=O.onInit,g=void 0===P?function(){}:P,D=[];(null!=b&&b.fullHeight||f)&&(D=D.concat(J)),v&&(D=D.concat(v));var S=a(D);return t(u,{ref:i,data:m,theme:S,layout:b,sort:w,pagination:y,select:j,tree:h,onInit:g,children:function(e){return o(n,{children:[(null==p?void 0:p.renderBeforeTable)&&p.renderBeforeTable(),f?t(I,G({tableList:e,columns:c,rowProps:s,rowOptions:d,virtualizedOptions:f},O),void 0):t(K,G({tableList:e,columns:c,rowProps:s,rowOptions:d},O),void 0),(null==p?void 0:p.renderAfterTable)&&p.renderAfterTable()]},void 0)}},void 0)}));export{M as CompactTable};
//# sourceMappingURL=compact.js.map

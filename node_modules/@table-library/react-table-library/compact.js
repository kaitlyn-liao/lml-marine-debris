import{o as e,_ as r}from"./Cell-11d8d790.js";import*as t from"react";import{H as o,a as n,R as i,B as l,F as s,b as c,c as u,T as a}from"./index-fd6018ca.js";import{jsx as p}from"@emotion/react";import"clsx";import{u as f}from"./useTheme-76ff76fc.js";import{d as m}from"./defineProperty-9f9de5d0.js";import{VariableSizeList as d}from"react-window";import O from"react-virtualized-auto-sizer";import{H as w}from"./HeaderCell-ed62c69b.js";import{C as v}from"./Cell-d849ee53.js";import"./slicedToArray-c92cae3a.js";import"./unsupportedIterableToArray-dc74e326.js";import"./Feature-1369ca5e.js";import"./modifiers-e1faba7b.js";import"./toConsumableArray-25e5c43c.js";var b=["columns"],y=function(e,r){var t=e.indexOf(r);return(t>-1?e.slice(0,t+1):[]).filter((function(e){return e.select})).length},g=function(i){var l=i.columns,s=e(i,b),c=s.sort,u=s.select;return p(o,null,p(n,null,l.map((function(e,o){var n,i=null;u&&e.select&&(i="boolean"!=typeof e.select&&e.select.renderHeaderCellSelect?p(w,{stiff:!0},e.select.renderHeaderCellSelect()):p(u.components.HeaderCellSelect,null));var s={index:o+y(l,e),resize:e.resize,pinLeft:e.pinLeft,pinRight:e.pinRight,hideKey:null===(n=e.hide)||void 0===n?void 0:n.hideKey},a=null;return a=c&&e.sort&&e.sort.sortKey?p(c.components.HeaderCellSort,r({},s,{sortKey:e.sort.sortKey,sortIcon:e.sort.sortIcon}),e.label):p(w,s,e.label),p(t.Fragment,{key:o},i,a)}))))},h=["item","columns","rowProps","rowOptions"];function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var C=function(o){var n=o.item,l=o.columns,s=o.rowProps,c=o.rowOptions,u=e(o,h),a=u.tree,f=u.select;return p(t.Fragment,null,(null==c?void 0:c.renderBeforeRow)&&c.renderBeforeRow(n),p(i,r({item:n},s),l.map((function(e,o){var i={pinLeft:e.pinLeft,pinRight:e.pinRight},l=function(e,r){return Object.keys(e).reduce((function(t,o){return"function"==typeof e[o]?t[o]=e[o](r):t[o]=e[o],t}),{})}((null==e?void 0:e.cellProps)||{},n),s=null;if(a&&e.tree){var c={};"boolean"!=typeof e.tree&&(c=P(P({},c),{},{treeIcon:e.tree.treeIcon})),s=p(a.components.CellTree,r({item:n},l,i,c),e.renderCell(n))}else s=p(v,r({},l,i),e.renderCell(n));var u=null;return f&&e.select&&(u="boolean"!=typeof e.select&&e.select.renderCellSelect?p(v,{stiff:!0},e.select.renderCellSelect(n)):p(f.components.CellSelect,{item:n})),p(t.Fragment,{key:o},u,s)}))),(null==c?void 0:c.renderAfterRow)&&c.renderAfterRow(n))},z=["columns"],H=["children"],S=["internals","columns","rowProps","rowOptions","virtualizedOptions"],R=["tableList","columns","rowProps","rowOptions","virtualizedOptions"];function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var D=function(e,r,t){var o=0;return null!=e&&e.rowHeight&&("number"==typeof(null==e?void 0:e.rowHeight)&&(o=e.rowHeight),"function"==typeof(null==e?void 0:e.rowHeight)&&(o=null==e?void 0:e.rowHeight(r,t))),o},k=function(o){var n=o.columns,i=e(o,z);return t.forwardRef((function(t,o){var s=t.children,c=e(t,H);return p("div",r({ref:o},c),p(g,r({columns:n},i)),p(l,null,s))}))},A=function(t){var o=t.internals,n=t.columns,i=t.rowProps,l=t.rowOptions,s=t.virtualizedOptions,c=e(t,S),u=o.index,a=o.style,f=o.data.items[u],m=D(s,f,u);return p("div",{style:L(L({},a),{},{top:a.top+m})},p(C,r({item:f,columns:n,rowProps:i,rowOptions:l},c)))},F=function(t){var o=t.tableList,n=t.columns,i=t.rowProps,l=void 0===i?{}:i,s=t.rowOptions,c=t.virtualizedOptions,u=e(t,R);return p(O,null,(function(e){var t=e.width,i=e.height;return p(d,{height:i,width:t,itemCount:(null==c?void 0:c.itemCount)||o.length,itemSize:function(e){return D(c,o[e],e)},innerElementType:k(L({columns:n},u)),itemData:{items:o}},(function(e){return p(A,r({internals:e,columns:n,rowProps:l,rowOptions:s,virtualizedOptions:c},u))}))}))},I=["tableList","columns","rowProps","rowOptions"],x=function(o){var n=o.tableList,i=o.columns,s=o.rowProps,c=void 0===s?{}:s,u=o.rowOptions,a=e(o,I);return p(t.Fragment,null,p(g,r({columns:i},a)),p(l,null,n.map((function(e){return p(C,r({key:e.id,item:e,columns:i,rowProps:c,rowOptions:u},a))}))))},B=function(e){var r=e.columns;return p(s,null,p(c,null,r.map((function(e,r){return p(u,{key:r},e.footer)}))))},E=["columns","rowProps","tableOptions","rowOptions","virtualizedOptions"],K={Table:"\n    height: 100%;\n  "},_=t.forwardRef((function(o,n){var i=o.columns,l=o.rowProps,s=void 0===l?{}:l,c=o.tableOptions,u=o.rowOptions,m=o.virtualizedOptions,d=e(o,E),O=d.data,w=d.theme,v=d.layout,b=d.sort,y=d.pagination,g=d.select,h=d.tree,j=d.onInit,P=void 0===j?function(){}:j,C=[];(null!=v&&v.fullHeight||m)&&(C=C.concat(K)),w&&(C=C.concat(w));var z=f(C);return p(a,{ref:n,data:O,theme:z,layout:v,sort:b,pagination:y,select:g,tree:h,onInit:P},(function(e){return p(t.Fragment,null,(null==c?void 0:c.renderBeforeTable)&&c.renderBeforeTable(),m?p(F,r({tableList:e,columns:i,rowProps:s,rowOptions:u,virtualizedOptions:m},d)):p(x,r({tableList:e,columns:i,rowProps:s,rowOptions:u},d)),i.some((function(e){return!!e.footer}))&&p(B,{columns:i}),(null==c?void 0:c.renderAfterTable)&&c.renderAfterTable())}))}));export{_ as CompactTable};
//# sourceMappingURL=compact.js.map

import*as e from"react";import{o as t,T as l,H as n,_ as c}from"./Cell-11d8d790.js";import r from"clsx";import{jsx as i,css as a}from"@emotion/react";import{t as o}from"./toConsumableArray-25e5c43c.js";var u=e.createContext(null),s=function(t){var l=t.tableElementRef,n=t.tableMemoryRef,c=t.layout,r=t.children,a=e.useMemo((function(){return{layout:c,tableElementRef:l,tableMemoryRef:n}}),[c,l,n]);return i(u.Provider,{value:a},r)},I=e.createContext(null),d=function(e){var t=e.current.querySelector(".tr-header");return Array.from((null==t?void 0:t.querySelectorAll(".th"))||[])},b=function(e,t,l,n){return Array.from(e.current.querySelectorAll(l)).forEach((function(e){var l=Array.from(e.querySelectorAll(n)),c=l.length;l.forEach((function(e,l){return t(e,l,c)}))}))},g=function(e,t){return b(e,t,".tr-header",".th")},m=function(e,t){return b(e,t,".tr-body",".td")},C=function(e){var t="boolean"==typeof e||null==(null==e?void 0:e.resizerWidth)?3:e.resizerWidth,l="boolean"==typeof e||null==(null==e?void 0:e.resizerHighlight)?"transparent":e.resizerHighlight;return a("z-index:1;position:absolute;top:0;right:0;bottom:0;cursor:col-resize;width:",t,"px;background-color:transparent;transition:background-color 0.1s linear;&:hover{background-color:",l,";}"+("production"===process.env.NODE_ENV?"":";label:resizerStyle;"),"production"===process.env.NODE_ENV?"":"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNZSIsImZpbGUiOiJzdHlsZXMudHMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XHJcbmNvbnN0IHJlc2l6ZXJTdHlsZSA9IChyZXNpemUpID0+IHtcclxuICAgIGNvbnN0IHdpZHRoID0gdHlwZW9mIHJlc2l6ZSA9PT0gJ2Jvb2xlYW4nIHx8IHJlc2l6ZT8ucmVzaXplcldpZHRoID09IG51bGwgPyAzIDogcmVzaXplLnJlc2l6ZXJXaWR0aDtcclxuICAgIGNvbnN0IGhpZ2hsaWdodCA9IHR5cGVvZiByZXNpemUgPT09ICdib29sZWFuJyB8fCByZXNpemU/LnJlc2l6ZXJIaWdobGlnaHQgPT0gbnVsbFxyXG4gICAgICAgID8gJ3RyYW5zcGFyZW50J1xyXG4gICAgICAgIDogcmVzaXplLnJlc2l6ZXJIaWdobGlnaHQ7XHJcbiAgICByZXR1cm4gY3NzIGBcbiAgICB6LWluZGV4OiAxO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGN1cnNvcjogY29sLXJlc2l6ZTtcbiAgICB3aWR0aDogJHt3aWR0aH1weDtcblxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4xcyBsaW5lYXI7XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aGlnaGxpZ2h0fTtcbiAgICB9XG4gIGA7XHJcbn07XHJcbmV4cG9ydCB7IHJlc2l6ZXJTdHlsZSB9O1xyXG4iXX0= */")},G=function(t,l){var n=e.useContext(u);if(!n)throw new Error("No Layout Context.");var c=n.tableMemoryRef,r=n.tableElementRef,i=n.layout,a=e.useRef(null),s=e.useRef(null),I=e.useRef(!1),b=e.useCallback((function(e){e.preventDefault(),I.current=!0,s.current=t.current.offsetWidth-e.pageX}),[t]),C=e.useCallback((function(e){if(I.current){e.preventDefault();var t=s.current+e.pageX;c.current.resizedLayout=function(e,t,l,n){var c=d(t).map((function(e,t){return{index:t,minResizeWidth:+e.getAttribute("data-resize-min-width"),width:e.getBoundingClientRect().width,isStiff:e.classList.contains("stiff")}})),r=c.reduce((function(t,l,n){return t||(n>e&&0!==l.width?l:t)}),null),i=t.current.querySelector(".thead"),a=(null==i?void 0:i.getBoundingClientRect().width)||0,u=c[e].minResizeWidth,s=n>u?n:u,I=s-c[e].width,b=c.map((function(t,l){if(r&&e===l)return r.width-I>u?s:t.width;if((null==r?void 0:r.index)===l){var n=t.width-I;return n>u?n:t.width}return t.width})),C=c.map((function(e,t){var n=b[t],c=n/a*100;return e.isStiff||null!=l&&l.horizontalScroll?"".concat(n,"px"):"".concat(c,"%")})),G=function(e,t){e.style.width=C[t],e.style.minWidth=C[t]},Z=function(e,t){if(o(Array.from(e.classList)).includes("pin-left")){var l=b.reduce((function(e,l,n){return n>=t?e:e+l}),0);e.style.left="".concat(l,"px")}if(o(Array.from(e.classList)).includes("pin-right")){var n=b.reduceRight((function(e,l,n){return n<=t?e:e+l}),0);e.style.right="".concat(n,"px")}};return g(t,G),m(t,G),g(t,Z),m(t,Z),C}(l,r,i,t)}}),[l,i,r,c]),G=e.useCallback((function(){I.current=!1,null!=i&&i.onLayoutChange&&(null==i||i.onLayoutChange(c.current.resizedLayout))}),[i,c]);return e.useEffect((function(){var e=a.current;return e&&(e.addEventListener("mousedown",b),document.addEventListener("mousemove",C),document.addEventListener("mouseup",G)),function(){e&&(e.removeEventListener("mousedown",b),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",G))}}),[b,C,G]),{resizeRef:a}},Z=["index","hideKey","className","hide","pinLeft","pinRight","stiff","resize","role","children"],f=function(o){var u=o.index,s=o.hideKey,I=o.className;o.hide;var d=o.pinLeft,b=o.pinRight,g=o.stiff,m=o.resize,f=o.role,p=void 0===f?"columnheader":f,y=o.children,h=t(o,Z),W=e.useContext(l),X=e.useRef(null),A=G(X,u).resizeRef;return i(n,c({role:p,"data-table-library_th":"","data-cell-key":s||u,"data-resize-min-width":"boolean"==typeof m||null==(null==m?void 0:m.minWidth)?75:m.minWidth,css:a(null==W?void 0:W.BaseCell," ",null==W?void 0:W.HeaderCell,";"+("production"===process.env.NODE_ENV?"":";label:HeaderCell;"),"production"===process.env.NODE_ENV?"":"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkhlYWRlckNlbGwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVd1TiIsImZpbGUiOiJIZWFkZXJDZWxsLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IGNzIGZyb20gJ2Nsc3gnO1xyXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XHJcbmltcG9ydCB7IEhlYWRlckNlbGxDb250YWluZXIgfSBmcm9tICdAdGFibGUtbGlicmFyeS9yZWFjdC10YWJsZS1saWJyYXJ5L2NvbW1vbi9jb21wb25lbnRzL0NlbGwnO1xyXG5pbXBvcnQgeyBUaGVtZUNvbnRleHQgfSBmcm9tICdAdGFibGUtbGlicmFyeS9yZWFjdC10YWJsZS1saWJyYXJ5L2NvbW1vbi9jb250ZXh0L1RoZW1lJztcclxuaW1wb3J0IHsgcmVzaXplclN0eWxlIH0gZnJvbSAnQHRhYmxlLWxpYnJhcnkvcmVhY3QtdGFibGUtbGlicmFyeS9yZXNpemUvc3R5bGVzJztcclxuaW1wb3J0IHsgdXNlUmVzaXplIH0gZnJvbSAnQHRhYmxlLWxpYnJhcnkvcmVhY3QtdGFibGUtbGlicmFyeS9yZXNpemUvdXNlUmVzaXplJztcclxuZXhwb3J0IGNvbnN0IEhlYWRlckNlbGwgPSAoeyBpbmRleCwgaGlkZUtleSwgY2xhc3NOYW1lLCBoaWRlLCBwaW5MZWZ0LCBwaW5SaWdodCwgc3RpZmYsIHJlc2l6ZSwgcm9sZSA9ICdjb2x1bW5oZWFkZXInLCBjaGlsZHJlbiwgLi4ucmVzdCB9KSA9PiB7XHJcbiAgICBjb25zdCB0aGVtZSA9IFJlYWN0LnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KTtcclxuICAgIGNvbnN0IGNlbGxSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XHJcbiAgICBjb25zdCB7IHJlc2l6ZVJlZiB9ID0gdXNlUmVzaXplKGNlbGxSZWYsIGluZGV4KTtcclxuICAgIHJldHVybiAoPEhlYWRlckNlbGxDb250YWluZXIgcm9sZT17cm9sZX0gZGF0YS10YWJsZS1saWJyYXJ5X3RoPVwiXCIgZGF0YS1jZWxsLWtleT17aGlkZUtleSB8fCBpbmRleH0gZGF0YS1yZXNpemUtbWluLXdpZHRoPXt0eXBlb2YgcmVzaXplID09PSAnYm9vbGVhbicgfHwgcmVzaXplPy5taW5XaWR0aCA9PSBudWxsID8gNzUgOiByZXNpemUubWluV2lkdGh9IGNzcz17Y3NzIGBcbiAgICAgICAgJHt0aGVtZT8uQmFzZUNlbGx9XG4gICAgICAgICR7dGhlbWU/LkhlYWRlckNlbGx9XG4gICAgICBgfSBjbGFzc05hbWU9e2NzKCd0aCcsIGNsYXNzTmFtZSwge1xyXG4gICAgICAgICAgICBzdGlmZixcclxuICAgICAgICAgICAgcmVzaXplLFxyXG4gICAgICAgICAgICAncGluLWxlZnQnOiBwaW5MZWZ0LFxyXG4gICAgICAgICAgICAncGluLXJpZ2h0JzogcGluUmlnaHQsXHJcbiAgICAgICAgfSl9IHJlZj17Y2VsbFJlZn0gey4uLnJlc3R9PlxuICAgICAgPGRpdj57Y2hpbGRyZW59PC9kaXY+XG4gICAgICB7cmVzaXplICYmIDxzcGFuIHJlZj17cmVzaXplUmVmfSBjc3M9e3Jlc2l6ZXJTdHlsZShyZXNpemUpfS8+fVxuICAgIDwvSGVhZGVyQ2VsbENvbnRhaW5lcj4pO1xyXG59O1xyXG4iXX0= */"),className:r("th",I,{stiff:g,resize:m,"pin-left":d,"pin-right":b}),ref:X},h),i("div",null,y),m&&i("span",{ref:A,css:C(m)}))};export{f as H,s as L,I as S,u as a,g as b,m as c,d as g};
//# sourceMappingURL=HeaderCell-ed62c69b.js.map

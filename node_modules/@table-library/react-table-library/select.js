import{a as e,S as t}from"./select-caf548e3.js";export{S as SelectClickTypes,a as SelectTypes}from"./select-caf548e3.js";import{d as r}from"./defineProperty-9f9de5d0.js";import{o,a as n,R as c}from"./Cell-f8de8a24.js";import{jsx as i}from"react/jsx-runtime";import*as s from"react";import l from"clsx";import{styled as p}from"@stitches/react";import{C as f,i as u}from"./Cell-57845886.js";import{S as d,a as b}from"./modifiers-50921ac4.js";import{H as y}from"./HeaderCell-84a9d2c4.js";import{s as O}from"./slicedToArray-c92cae3a.js";import{u as m}from"./index-e21c23fe.js";import{b as g}from"./useSyncControlledState-80c86a40.js";import"./toConsumableArray-25e5c43c.js";import"./unsupportedIterableToArray-dc74e326.js";import"./fromTreeToList-26486e10.js";var j=p("input",{cursor:"pointer"});function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var v=s.forwardRef((function(e,t){return i(j,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({type:"checkbox",ref:t},e),void 0)})),h=function(e){var t=e.checked,r=e.isIndeterminate,o=e.onChange;return i(v,{ref:function(e){e&&(t?(e.indeterminate=!1,e.checked=!0):r?(e.indeterminate=!0,e.checked=!1):(e.indeterminate=!1,e.checked=!1))},type:"checkbox",onChange:o},void 0)},P=["item"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?C(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):C(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var k=s.memo((function(t){var r=t.item,n=o(t,P),c=s.useContext(d);if(!c)throw new Error("No Select Context. No return value from useRowSelect provided to Table component.");var l=c.options.buttonSelect===e.SingleSelect&&c.state.id===r.id||c.state.ids.includes(r.id);return i(f,T(T({stiff:!0},n),{},{children:i(h,{checked:!!l,onChange:function(){c.options.buttonSelect===e.SingleSelect?c.fns.onToggleByIdExclusively(r.id):c.fns.onToggleByIdRecursively(r.id,{isCarryForward:c.options.isCarryForward,isPartialToAll:c.options.isPartialToAll})}},void 0)}),void 0)}));function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function x(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?D(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):D(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var E=s.memo((function(t){var r=s.useContext(d);if(!r)throw new Error("No Select Context. No return value from useRowSelect provided to Table component.");var o=r.state.all,n=!r.state.all&&!r.state.none||r.options.buttonSelect===e.SingleSelect&&null!=r.state.id;return i(y,x(x({stiff:!0},t),{},{children:i(h,{checked:!!o,isIndeterminate:n,onChange:function(){return r.fns.onToggleAll({isPartialToAll:r.options.isPartialToAll})}},void 0)}),void 0)}));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?R(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var I=function(r,o){var i=r.item,s=o.select;if(!s)throw new Error("No 'select' in getRowProps. That's odd");var a=s.state.ids.includes(i.id),p=s.state.id===i.id;return{theme:"\n    &.row-select-selected,\n    &.row-select-single-selected {\n      color: ".concat(n,";\n      font-weight: bold;\n\n      background-color: ").concat(c,";\n    }\n\n    &.row-select-clickable {\n      cursor: pointer;\n    }\n  "),className:l("row-select",{"row-select-clickable":s.options.clickType===t.RowClick,"row-select-selected":a,"row-select-single-selected":p}),onClick:function(r,n){if(u(n)&&s.options.clickType===t.RowClick){var c=s.options.rowSelect===e.MultiSelect,i=!!n.metaKey,l=!!n.shiftKey,a=b(o);i?s.fns.onToggleById(r.id):l?s.fns.onToggleByIdShift(r.id,s.options,a):c?s.fns.onToggleById(r.id):s.fns.onToggleByIdExclusively(r.id)}}}},B={ids:[],id:null},N={clickType:t.RowClick,rowSelect:e.SingleSelect,buttonSelect:e.MultiSelect,isCarryForward:!0,isPartialToAll:!1},F=function(e,t,r,o){var n=null!=t&&t.state?A(A({},B),t.state):A({},B),c=null!=t&&t.onChange?t.onChange:function(){},i=m(e,n,c,o),s=O(i,2),l=s[0],a=s[1];return g("select",o,l),{state:l,fns:a,options:A(A({},N),r||{}),_getRowProps:I,components:{HeaderCellSelect:E,CellSelect:k}}};export{k as CellSelect,h as Checkbox,E as HeaderCellSelect,F as useRowSelect};
//# sourceMappingURL=select.js.map
